---
- hosts: test
  gather_facts: yes
  become: yes
  tasks:
    - name: Include vars of stuff.yaml into the 'stuff' variable (2.2).
      include_vars:
        file: vars/vars.yaml
    - name: Get system IP
      set_fact:
        host_ip={{ hostvars[inventory_hostname]['ansible_host'] }}

    - name: current host IP
      debug: msg="{{ host_ip }}"

    - name: read variable
      debug: msg="{{ user_name['name'] }}"

#update repos
    - name: Distribution
      debug: msg="{{ ansible_distribution }}"
    - name: Distribution version
      debug: msg="{{ ansible_distribution_version }}"
    - name: Distribution major version
      debug: msg="{{ ansible_distribution_major_version }}"
    - name: Update apt-get repo and cache
      apt: update_cache=yes force_apt_get=yes cache_valid_time=3600

##updating hosts file
    - name: Ansible array variables example
      debug: 
        msg: "{{ item }}"
      with_items:
        - "{{ host_info }}"

    - name: updating hosts file
      shell: echo '{{ item }}' >> /etc/hosts
      with_items:
        - "{{ host_info }}"

###verify UUID of all nodes in unique
